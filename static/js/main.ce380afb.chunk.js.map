{"version":3,"sources":["assets/images/banner1.jpg","assets/images/banner2.jpg","assets/images/banner3.jpg","assets/images/haidilaobamboo.jpg","assets/images/haidilaoBackstrips.jpg","assets/images/haidilaoAAA.jpg","assets/images/haidilaoClassic.jpg","assets/images/haidilaoDaisy.jpg","assets/images/haidilaoFatty.jpg","assets/icons/arrow-right.png","assets/images/haidilao.jpg","assets/icons/back.svg","assets/icons/search.svg","assets/icons/like.svg","assets/icons/close.svg","assets/icons/back_dark.svg","assets/icons/location.png","assets/icons/telephone.png","components/navigation/TopNavbar.js","datas/index.js","components/homepage/Vendors.js","components/navigation/BotNavbar.js","components/homepage/Homepage.js","components/Default.js","actions/cart/addToCart.js","actions/types.js","actions/cart/increment.js","components/vendor/SelectOptionModal.js","components/vendor/SingleDishAddButton.js","actions/cart/decrement.js","actions/cart/removeItem.js","components/vendor/MenuSingleDish.js","components/vendor/Menu.component.js","components/vendor/About.component.js","components/vendor/Ratings.component.js","assets/icons/cart.svg","components/cart/shortCart.js","components/vendor/SingleVendor.js","actions/vendor/setLastVisitedVendor.js","components/dish/SingleDish.js","webpack:///./src/assets/icons/close.svg?2734","components/cart/CompleteCartSingleDish.js","components/cart/SingleVendorCartFooter.component.js","components/cart/SingleVendorCart.js","components/cart/CompleteCart.js","actions/cart/clearCart.js","webpack:///./src/assets/icons/back_dark.svg?ff5b","components/checkout/UserLocation.js","components/checkout/ConfirmBtn.js","components/checkout/Agreement.js","components/checkout/OrderInfo.js","components/checkout/Remark.js","components/checkout/PriceInfo.js","components/checkout/Checkout.js","actions/order/createOrder.js","App.js","reducers/cart.js","reducers/auth.js","reducers/vendor.js","reducers/index.js","reducers/lastVisitedVendorId.js","config/fbConfig.js","index.js"],"names":["module","exports","TopNavbar","className","placeholder","prefix","SearchOutlined","SingleVendorData","id","delivery_fee","shipping_cost","shipping_cost_percent","address","area_id","business_hours","from","to","city","isClosed","coupon_tags","latitude","longitude","logo","Logo","mobile","name","pickup_discount","province","rating","notes_tags","tags","tip_lists","MyDishes","vendor","category","photo","Classic","price","description","selectables","max","min","values","selected","Bamboo","Daisy","BackStrips","Fatty","AAA","SingleVendorDishes","Vendors","src","alt","width","BotNavbar","datas","icon","HomeOutlined","title","UnorderedListOutlined","AccountBookOutlined","columnNum","data","renderItem","Homepage","Default","addToCart","payload","dispatch","type","increment","alert","Modal","connect","state","ownProps","singleVendorCart","cartState","dish","sameDishInCart","_","isEmpty","dishes","find","handleCloseModal","selectedOptions","forEach","option","push","useState","selectedOption","setSelectedOption","quantity","setQuantity","itemPrice","setItemPrice","Array","length","fill","isFinishSelection","setIsFinishSelection","isDone","setIsDone","checkFinishSelection","isFinish","flag","useEffect","isFinishSelectionCopy","slice","index","handleQuantity","text","Close","onClick","map","key","selection","i","e","elmClasses","target","classList","contains","toggle","selectedOptionCopy","filter","op","toggleSelection","some","isEqual","cartItemId","cartObj","Date","now","console","log","isVendorMenu","dishQuantity","result","itemId","decrement","removeItem","isCompleteCart","modalOpen","setModalOpen","setCartItemId","handleIncrement","newDish","handleAddtoCart","handleDecrement","MenuSingleDish","style","backgroundImage","Menu","GoogleApiWrapper","apiKey","process","REACT_APP_GOOGLE_MAP_API","version","google","date","getDay","height","position","initialCenter","lat","lng","zoom","Ratings","_extends","Object","assign","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","stroke","strokeWidth","fillRule","transform","d","strokeLinecap","strokeLinejoin","SvgCart","_ref","svgRef","titleId","props","viewBox","ref","ForwardRef","vendorId","totalQuantity","totalPrice","onPress","TabPane","Tabs","setLastVisitedVendor","BackIcon","SearchIcon","LikeIcon","tag","defaultActiveKey","tab","cart","match","params","singleDishId","singleDishData","setSingleDishData","dishVendorId","setDishVendorId","Number","itemInCart","backDark","SvgClose","CompleteCartSingleDish","selectableText","SingleVendorCartFooter","SingleVendorCart","singleCart","selectable","compose","withRouter","carts","lastVisitedVendorId","lastVisitedVendorIdState","clearCart","_ref3","SvgBackDark","x","y","enableBackground","xmlSpace","libraries","setUserAddress","setUserLng","setUserLat","setAddress","value","onChange","onSelect","geocodeByAddress","then","results","geometry","location","getLatLng","latLng","catch","error","getInputProps","suggestions","getSuggestionItemProps","loading","suggestion","active","backgroundColor","cursor","ConfirmBtn","placeOrder","Agreement","OrderInfo","vendorName","Remark","setDeliFee","setTotalTax","setSubTotal","baseDeliveryFee","userLat","userLng","vendorLat","vendorLng","totalBeforeTax","deliveryFee","setDeliveryFee","toFixed","tax","setTax","subtotal","setSubtotal","origin","maps","LatLng","destination","DistanceMatrixService","getDistanceMatrix","origins","destinations","travelMode","unitSystem","UnitSystem","IMPERIAL","response","status","distance","rows","elements","additionalDeliveryFee","Math","ceil","total","round","currentTax","currentSubtotal","createOrder","getState","getFirebase","firestore","getFirestore","history","collection","add","customerId","createdAt","err","left","borderRadius","color","fontWeight","background","right","isDelivery","setIsDelivery","userLocation","setUserLocation","telephone","setTelephone","deliFee","totalTax","subTotal","Location","addr","Telephone","maxLength","ArrowRight","newCart","arrivalTime","paymentMethod","userId","receiverInfo","priceInfo","orderTotal","Tax","subtotol","createBrowserHistory","App","exact","path","component","Vendor","SingleDish","Cart","Checkout","initialState","auth","combineReducers","action","selectedDish","newState","authReducer","vendorReducer","firebase","initializeApp","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","withExtraArgument","reduxFirestore","fbConfig","rrfProps","config","createFirestoreInstance","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ce380afb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/banner1.625aee00.jpg\";","module.exports = __webpack_public_path__ + \"static/media/banner2.d1e530b8.jpg\";","module.exports = __webpack_public_path__ + \"static/media/banner3.70fcb281.jpg\";","module.exports = __webpack_public_path__ + \"static/media/haidilaobamboo.c64b9ee6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/haidilaoBackstrips.b04cf262.jpg\";","module.exports = __webpack_public_path__ + \"static/media/haidilaoAAA.f3fd7bf4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/haidilaoClassic.3febdd0e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/haidilaoDaisy.6d9f9107.jpg\";","module.exports = __webpack_public_path__ + \"static/media/haidilaoFatty.200ede41.jpg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAaCAMAAACw0Z1uAAAAV1BMVEUAAACMjIyBgYF/f3+MjIyMjIyNjY2MjIyMjIyMjIyMjIyPj4+NjY2MjIyQkJCMjIyMjIyMjIyMjIyMjIyNjY2NjY2MjIyOjo6NjY2NjY2Pj4+GhoaMjIy9MCAUAAAAHHRSTlMAwgkF7+PLvbKnhjEhGQ/28+nc19Kdl5BBOikTJwlqAAAAAFtJREFUGNNl0EcSwCAMQ1FIr6R33f+c2X4MuzfD2JZc5YPD8/IZGCrV9LfHHjc1Ob3GHkq11qB7Fx10X+g0vuhnVkffE03yM0dxUXoGj2QEG5DxbTlpdWmxpvYf68EGc9JF1EIAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/haidilao.cb3fab7d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/back.bcc53b2a.svg\";","module.exports = __webpack_public_path__ + \"static/media/search.7f3e8137.svg\";","module.exports = __webpack_public_path__ + \"static/media/like.3af3eb98.svg\";","module.exports = __webpack_public_path__ + \"static/media/close.22e7d869.svg\";","module.exports = __webpack_public_path__ + \"static/media/back_dark.684e609e.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAeCAMAAAAIG46tAAAAjVBMVEUAAAAyMjIwMDAzMzMzMzMyMjIyMjImJiYzMzMyMjIyMjIxMTEyMjIyMjIzMzMzMzMzMzMyMjIzMzMzMzMyMjIyMjIzMzMzMzMzMzM0NDQxMTE0NDQyMjIzMzMzMzMzMzMzMzM0NDQzMzMzMzMyMjIzMzMzMzM0NDQzMzMyMjIzMzM1NTUyMjI3NzczMzP6uLnQAAAALnRSTlMA+gzCEuxpBvelhTrgzK53F+XZyKGZk3NbTEM1MCsg1s+8tYyJfW5jYVZVLyQcTx3X3AAAAVJJREFUKM9tUtm2gjAQo0ChXHZREETcd83/f95tI3pAzQOdkDYn06k1gNvWdetaP2BXjoCGcCr7UztKvCGP42MJoIJL5/vdJVBAMjjsF5p3L9YlQOG/xQBIh0YpELzqGvgbJ/gD6t50AoerFysVezR0MHkaN0BoQjkgHBMmBBqKJVZmSSBPWXaSSAxboaQYY8e9amnYUtFnh5hiDo8ZZhYxYzoPOZnCnO14T9FjG3MoMsnfJQ/QouQWSbbGXn+viGzeZISrXvZYU5zC6bt9WNaj79DBlOIcwgzxJiHiWEDezGgFg7CozHrfQmN7N3XFA09fabPImiZjYUu6sm/xffFiyYJ9i8VQWwjM3sTNEbmDhxYhH9BQmGEQHI8Ih0YesLF7bQN44wgHoMiYuAAOY43vJlroLBHf0yfOAiJN9eds/UCYQyNilm+4ARCwh59o2xH9B7r6IYRZ1rZ8AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAeCAMAAAAIG46tAAAAjVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADqhzP4AAAALnRSTlMA7wjz/MT5LgPaqnw4Mx7qKRSuno1HDOLf1s2Pg3VoYlRLPSUOyL64sppdTyS7dWhyjQAAARJJREFUKM+lkcdyg0AQRHsjGQQI5Swry/3/n2cKOAjv+uR3mcOrqZrpRktqlMng56RIqslfbj2rGH3BJVOcArMl73AxrWs5C25caYuwm0etA0eKAj01E0fe2H8hL9w5cs9H526cu/dKYXMAFUUAl4QxkJEHeJALNghXjOHjxXmJTPtX8WAFTCnOPjmLmEAaLkqfnQh9QBlx5bWNViecC0bv7sTndlTgjirFO2JxBPIlqUdRbilSlIasgwXrxPL+mdeGqoHcWJJrIC24nIx27R4ILn2/+Wqc505zHSLMh+AqGnxwFDStGsipxv9GFE/0hDGvv7KqyWswOLfD15w6bkLZuhQOMhGkVYNz9f5bWJPhP/wAlRoXYyQIeMcAAAAASUVORK5CYII=\"","import React from 'react'\nimport {Input} from 'antd'\nimport {SearchOutlined} from '@ant-design/icons'\n\nexport default function TopNavbar() {\n  return (\n    <div className=\"topNav\">\n      <Input\n      placeholder=\"Search Restaurant\"\n      className='searchBar'\n      prefix={<SearchOutlined />}\n      />\n    </div>\n  )\n}\n","import Bamboo from '../assets/images/haidilaobamboo.jpg'\nimport BackStrips from '../assets/images/haidilaoBackstrips.jpg'\nimport AAA from '../assets/images/haidilaoAAA.jpg'\nimport Classic from '../assets/images/haidilaoClassic.jpg'\nimport Daisy from '../assets/images/haidilaoDaisy.jpg'\nimport Fatty from '../assets/images/haidilaoFatty.jpg'\nimport Logo from '../assets/images/haidilao.jpg'\n\nexport const SingleVendorData = {\n  id: 1,\n  delivery_fee: '2.99',\n  shipping_cost: '0.0',\n  shipping_cost_percent: '0.0',\n  address: '5890 no3 road',\n  area_id: 4,\n  business_hours: [\n    { from: null, to: null },\n    { from: \"11:00\", to: '23:28' },\n    { from: \"11:00\", to: '23:28' },\n    { from: \"11:00\", to: '23:28' },\n    { from: \"11:00\", to: '23:28' },\n    { from: \"11:00\", to: '23:28' },\n    { from: null, to: null },\n  ],\n  city: 'richmond',\n  isClosed: true,\n  coupon_tags: [\"30% off\", 'Buy $100 get $10 off'],\n  latitude: 49.1708,\n  longitude: -123.136,\n  logo: Logo,\n  mobile: \"6043706665\",\n  name: \"Haidilao Hot Pot | 30% off\",\n  pickup_discount: 88,\n  province: 'BC',\n  rating: 4.8,\n  notes_tags: [\n    \"contact free delivery\",\n    \"No Green Onion\",\n    \"Less Spicy\",\n    \"with Utensil\",\n  ],\n  tags: [\"川湘麻辣\", \"沪港澳汇\"],\n  tip_lists: [0.1, 0.15, 0.2, 0.25],\n\n}\n\n\n\nexport const MyDishes = [\n    {\n      id: 0,\n      vendor: SingleVendorData,\n      category: {\n        name: 'One person signature set'\n      },\n      name: '一人精品套餐/单人套餐',\n      photo: Classic,\n      price: 18,\n      description: 'dish description',\n      selectables: [\n        {\n          max: 1,\n          min: 1,\n          name: 'select broth type',\n          values: [\n            {\n              name: 'raw',\n              price: 18,\n              selected: false\n            },\n            {\n              name: 'cooked',\n              price: 20,\n              selected: false\n            },\n          ]\n        },\n\n        {\n          max: 1,\n          min: 1,\n          name: 'drink',\n          values: [\n            {\n              name: 'Coke',\n              price: 0,\n              selected: false\n            },\n            {\n              name: 'diet pepsi',\n              price: 4,\n              selected: false\n            },\n            {\n              name: 'Sprite',\n              price: 5,\n              selected: false\n            },\n\n          ]\n        },\n\n        {\n          max: 3,\n          min: 1,\n          name: 'Dipping',\n          values: [\n            {\n              name: 'Seasame paste',\n              price: 2,\n              selected: false\n            },\n            {\n              name: 'Onion',\n              price: 1,\n              selected: false\n            },\n            {\n              name: 'Mushroom sauce',\n              price: 2,\n              selected: false\n            },\n          ]\n        },\n      ]\n    },\n  \n  \n    {\n      id: 1,\n      vendor: SingleVendorData,\n      category: {\n        name: '特色菜Signature Dishes'\n      },\n      name: '青笋 Bamboo Shoots',\n      photo: Bamboo,\n      price: 12,\n      selectables: [\n        {\n          max: 2,\n          min: 1,\n          name: '加调料',\n          values: [\n            {\n              name: '葱',\n              price: 18,\n              selected: false\n            },\n            {\n              name: '姜',\n              price: 20,\n              selected: false\n            },\n          ]\n        },\n        {\n          max: 1,\n          min: 1,\n          name: '加肉',\n          values: [\n            {\n              name: '鸡腿',\n              price: 18,\n              selected: false\n            },\n            {\n              name: '五花肉',\n              price: 20,\n              selected: false\n            },\n          ]\n        }\n      ]\n    },\n    {\n      id: 2,\n      vendor: SingleVendorData,\n      category: {\n        name: '特色菜Signature Dishes'\n      },\n      name: '茼蒿 Crown Daisy',\n      photo: Daisy,\n      price: 11,\n      selectables: []\n    },\n  \n    {\n      id: 3,\n      vendor: SingleVendorData,\n      category: {\n        name: '肉类 meats'\n      },\n      name: '精品牛板腱肉',\n      photo: BackStrips,\n      price: 18,\n      selectables: []\n    },\n    {\n      id: 4,\n      vendor: SingleVendorData,\n      category: {\n        name: '肉类 meats'\n      },\n      name: '精品肥牛 ',\n      photo: Fatty,\n      price: 18,\n      selectables: []\n    },\n    {\n      id: 5,\n      vendor: SingleVendorData,\n      category: {\n        name: '肉类 meats'\n      },\n      name: 'AAA级西冷牛肉',\n      photo: AAA,\n      price: 18,\n      selectables: []\n    }\n  \n]\n\nexport const SingleVendorDishes = [\n  [\n    {\n      id: 0,\n      vendor: SingleVendorData,\n      category: {\n        name: 'One person signature set'\n      },\n      name: '一人精品套餐/单人套餐',\n      photo: Classic,\n      price: 18,\n      description: 'dish description',\n      selectables: [\n        {\n          max: 1,\n          min: 1,\n          name: 'select broth type',\n          values: [\n            {\n              name: 'raw',\n              price: 18,\n              selected: false\n            },\n            {\n              name: 'cooked',\n              price: 20,\n              selected: false\n            },\n          ]\n        },\n\n        {\n          max: 1,\n          min: 1,\n          name: 'drink',\n          values: [\n            {\n              name: 'Coke',\n              price: 0,\n              selected: false\n            },\n            {\n              name: 'diet pepsi',\n              price: 4,\n              selected: false\n            },\n            {\n              name: 'Sprite',\n              price: 5,\n              selected: false\n            },\n\n          ]\n        },\n\n        {\n          max: 3,\n          min: 1,\n          name: 'Dipping',\n          values: [\n            {\n              name: 'Seasame paste',\n              price: 2,\n              selected: false\n            },\n            {\n              name: 'Onion',\n              price: 1,\n              selected: false\n            },\n            {\n              name: 'Mushroom sauce',\n              price: 2,\n              selected: false\n            },\n          ]\n        },\n      ]\n    }\n  ],\n  [\n    {\n      id: 1,\n      vendor: SingleVendorData,\n      category: {\n        name: '特色菜Signature Dishes'\n      },\n      name: '青笋 Bamboo Shoots',\n      photo: Bamboo,\n      price: 12,\n      selectables: [\n        {\n          max: 2,\n          min: 1,\n          name: '加调料',\n          values: [\n            {\n              name: '葱',\n              price: 18,\n              selected: false\n            },\n            {\n              name: '姜',\n              price: 20,\n              selected: false\n            },\n          ]\n        },\n        {\n          max: 1,\n          min: 1,\n          name: '加肉',\n          values: [\n            {\n              name: '鸡腿',\n              price: 18,\n              selected: false\n            },\n            {\n              name: '五花肉',\n              price: 20,\n              selected: false\n            },\n          ]\n        }\n      ]\n    },\n    {\n      id: 2,\n      vendor: SingleVendorData,\n      category: {\n        name: '特色菜Signature Dishes'\n      },\n      name: '茼蒿 Crown Daisy',\n      photo: Daisy,\n      price: 11,\n      selectables: []\n    }\n  ],\n  [\n    {\n      id: 3,\n      vendor: SingleVendorData,\n      category: {\n        name: '肉类 meats'\n      },\n      name: '精品牛板腱肉',\n      photo: BackStrips,\n      price: 18,\n      selectables: []\n    },\n    {\n      id: 4,\n      vendor: SingleVendorData,\n      category: {\n        name: '肉类 meats'\n      },\n      name: '精品肥牛 ',\n      photo: Fatty,\n      price: 18,\n      selectables: []\n    },\n    {\n      id: 5,\n      vendor: SingleVendorData,\n      category: {\n        name: '肉类 meats'\n      },\n      name: 'AAA级西冷牛肉',\n      photo: AAA,\n      price: 18,\n      selectables: []\n    }\n  ]\n]\n\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { SingleVendorData } from '../../datas'\n\nexport default function Vendors() {\n  return (\n    <div className=\"vendors\">\n      <Link to={`/vendor/${SingleVendorData.id}`}>\n        <img src={SingleVendorData.logo} alt={SingleVendorData.name} width=\"100%\" />\n        <div className=\"vendorName\">\n          {SingleVendorData.name}\n          <div>about 1km</div>\n        </div>\n        <div className=\"deliveryFee\">Devlivery Fee ${SingleVendorData.delivery_fee}+</div>\n      </Link>\n    </div>\n\n  )\n}","import React from 'react'\nimport { Grid } from 'antd-mobile';\nimport { HomeOutlined, UnorderedListOutlined, AccountBookOutlined } from '@ant-design/icons'\n\n\nexport default function BotNavbar() {\n\n  const datas = [\n    {\n      icon: <HomeOutlined />,\n      title: 'Home'\n    },\n    {\n      icon: <UnorderedListOutlined />,\n      title: 'Orders'\n    },\n    {\n      icon: <AccountBookOutlined />,\n      title: 'Account'\n    },\n  ]\n\nreturn (\n  <div className=\"botNavbar\">\n    <Grid\n      columnNum={3}\n      data={datas}\n      renderItem={data => (\n        <div className='row'>\n          {data.icon}\n          <h6>{data.title}</h6>\n        </div>\n      )}\n    />\n  </div>\n)\n}\n","import React from 'react'\nimport TopNav from '../navigation/TopNavbar'\nimport Banner from './Banner'\nimport Categories from './Categories'\nimport Special from './Special'\nimport Vendors from './Vendors'\nimport BotNavbar from '../navigation/BotNavbar'\nexport default function Homepage() {\n  return (\n    <div className='homepageContainer'>\n      please use mobile phone or change inspection device to mobile phone\n      <TopNav />\n      {/* <Banner /> */}\n      {/* <Categories /> */}\n      {/* <Special /> */}\n      <Vendors />\n      <BotNavbar />\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function Default() {\n  return (\n    <div>\n      Page not found\n    </div>\n  )\n}\n","import {ADD_TO_CART} from '../types'\n\nexport const addToCart = (payload) =>{\n  return (dispatch) =>{\n    dispatch({\n      type:ADD_TO_CART,\n      payload: payload\n    })\n  }\n}","export const ADD_TO_CART = 'ADD_TO_CART';\nexport const DECREMENT_ITEM  = 'DECREMENT_ITEM'\nexport const INCREMENT_ITEM  = 'INCREMENT_ITEM'\nexport const CLEAR_CART  = 'CLEAR_CART'\nexport const CLEAR_CART_BY_VENDOR_ID = 'CLEAR_CART_BY_VENDOR_ID'\nexport const REMOVE_ITEM  = 'REMOVE_ITEM'\nexport const SET_LAST_VISITED_VENDOR  = 'SET_LAST_VISITED_VENDOR'\nexport const GET_SINGLE_VENDOR = 'GET_SINGLE_VENDOR'\nexport const CREATE_ORDER = 'CREATE_ORDER'\nexport const CREATE_ORDER_ERROR = 'CREATE_ORDER_ERROR'\n","import {INCREMENT_ITEM} from '../types'\n\nexport const increment = (payload) =>{\n  return (dispatch) =>{\n    dispatch({\n      type:INCREMENT_ITEM,\n      payload: payload\n    })\n  }\n}","import React, { useState, useEffect } from 'react'\nimport Close from '../../assets/icons/close.svg'\nimport { Modal } from 'antd-mobile'\nimport { connect } from 'react-redux'\nimport { addToCart } from '../../actions/cart/addToCart'\nimport { increment } from '../../actions/cart/increment'\nimport _ from 'lodash'\n\nconst alert = Modal.alert;\n\nconst SelectOptionModal = ({ handleCloseModal, addToCart, dish, sameDishInCart, increment }) => {\n\n  const selectedOptions = []\n  dish.selectables.forEach(option => {\n    selectedOptions.push({\n      name: option.name,\n      option: []\n    })\n  })\n\n  const [selectedOption, setSelectedOption] = useState(selectedOptions)\n  const [quantity, setQuantity] = useState(1)\n  const [itemPrice, setItemPrice] = useState(dish.price)\n  const [isFinishSelection, setIsFinishSelection] = useState(Array(dish.selectables.length).fill(false))\n  const [isDone, setIsDone] = useState(false)\n\n  const checkFinishSelection = () => {\n    let isFinish = true;\n    isFinishSelection.forEach(flag => {\n      if (!flag) {\n        isFinish = false\n        return\n      }\n    })\n    setIsDone(isFinish)\n  }\n\n  useEffect(() => {\n    let isFinishSelectionCopy = isFinishSelection.slice()\n    dish.selectables.forEach((option, index) => {\n      if (option.min === 0) {\n        isFinishSelectionCopy[index] = true\n        setIsFinishSelection(isFinishSelectionCopy)\n      }\n    })\n\n  }, [dish.selectables, isFinishSelection]);\n\n  useEffect(() => {\n    checkFinishSelection()\n  }, [checkFinishSelection, isFinishSelection]);\n\n\n  const toggleSelection = (e, index, selection, max, min, option, price) => {\n    const elmClasses = e.target.classList\n    if (selectedOption[index].option.length === max && !elmClasses.contains('active')) {\n      alert(`${option}最多可选择${max}项`, '', [\n        { text: 'Ok' }\n      ])\n    }\n    else {\n      let isFinishSelectionCopy = isFinishSelection.slice()\n      elmClasses.toggle('active');\n      let selectedOptionCopy = selectedOption.slice()\n\n      // added option\n      if (elmClasses.contains('active')) {\n        if (selectedOption[index].option.length === min - 1) {\n          isFinishSelectionCopy[index] = true;\n          setIsFinishSelection(isFinishSelectionCopy)\n        }\n        selectedOptionCopy[index].option.push({\n          name: selection\n        })\n        setItemPrice(itemPrice + price)\n        setSelectedOption(selectedOptionCopy)\n\n      }\n\n      //removed option\n      else {\n        if (selectedOption[index].option.length === min) {\n          isFinishSelectionCopy[index] = false\n          setIsFinishSelection(isFinishSelectionCopy)\n          setQuantity(1)\n        }\n\n        selectedOptionCopy[index].option = selectedOptionCopy[index].option.filter((op) => op.name !== selection)\n        setItemPrice(itemPrice - price)\n        setSelectedOption(selectedOptionCopy)\n      }\n    }\n  }\n\n  const handleQuantity = flag => {\n    if (flag) {\n      if (isDone) {\n        setQuantity(quantity + 1)\n      }\n      else {\n        alert('请完成选择', '', [\n          { text: 'Ok' }\n        ])\n      }\n    }\n    else {\n      if (isDone && quantity > 1) {\n        setQuantity(quantity - 1)\n      }\n    }\n  }\n\n  const optionType = (min, max) => {\n    if (min === 0) {\n      return `0~${max}`\n    }\n\n    else if (min === max) {\n      return `Choose ${max} *required`\n    }\n    else {\n      return `Choose${min}~${max} *required`\n    }\n  }\n\n  const handleAddtoCart = () => {\n    if (isDone) {\n      let flag = false\n      sameDishInCart.length > 0 &&\n        sameDishInCart.some((dish) => {\n          if (_.isEqual(dish.selectables, selectedOption)) {\n            increment({\n              cartItemId: dish.cartItemId,\n              quantity: quantity,\n              vendor:dish.vendor\n            })\n            handleCloseModal()\n            flag = true\n            return true\n          }\n        })\n\n      if (flag) return\n\n      const cartObj = {\n        vendor: dish.vendor,\n        quantity: quantity,\n        dish: {\n          ...dish,\n          selectables: selectedOption,\n          quantity: quantity,\n          price: itemPrice,\n          cartItemId: Date.now()\n        },        \n      }\n      addToCart(cartObj)\n      handleCloseModal()\n    }\n    else {\n      alert('Finish Selection to proceed', '', [\n        { text: 'Ok' }\n      ])\n    }\n  }\n\n  return (\n    <div className='dishModal'>\n      <div className=\"container\">\n        <div className=\"head\">\n          <img src={Close} alt='sdf' onClick={handleCloseModal} />\n          <span className='title'>Select options</span>\n        </div>\n        {dish.selectables.map((option, index) => {\n          return (\n            <div key={index}>\n              <div className=\"optionTitle\">\n                {option.name}\n                <span>{optionType(option.min, option.max)}</span>\n              </div>\n              {option.values.map((selection, i) => {\n                return (\n                  <div key={i} className=\"optionSelection\" onClick={(e) => toggleSelection(e, index, selection.name, option.max, option.min, option.name, selection.price)} >\n                    {selection.name}{selection.price !== 0 && '($' + selection.price + ')'}\n                  </div>\n                )\n              })}\n            </div>\n          )\n        })}\n        <div className=\"quantity\">\n          <span className='text'>quantity</span>\n          <div className='addition'>\n            <span onClick={() => handleQuantity(false)}>-</span>\n            <span> {quantity} </span>\n            <span onClick={() => handleQuantity(true)}>+</span>\n          </div>\n        </div>\n        <div className=\"addToCart\">\n          <span className='text'>${itemPrice * quantity}</span>\n          <div className='addition'>\n            <span onClick={handleAddtoCart}>Add to Cart</span>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  )\n}\n\n\nconst mapStateToProps = (state, ownProps) => {\n  const singleVendorCart = state.cartState[ownProps.dish.vendor.id]\n  return {\n    sameDishInCart: !_.isEmpty(singleVendorCart) ? singleVendorCart.dishes.find(dish => \n      dish.id === ownProps.dish.id) ? singleVendorCart.dishes.find(dish => {\n      return dish.id === ownProps.dish.id\n    }) : [] : []\n  }\n}\n\n\nexport default connect(mapStateToProps, { addToCart, increment })(SelectOptionModal)","import React, { useState } from 'react'\nimport _ from 'lodash'\nimport { connect } from 'react-redux'\nimport SelectOptionModal from './SelectOptionModal'\nimport { increment } from '../../actions/cart/increment'\nimport { decrement } from '../../actions/cart/decrement'\nimport { removeItem } from '../../actions/cart/removeItem'\nimport { addToCart } from '../../actions/cart/addToCart'\n\nconst SingleDishAddButton = ({ increment, decrement, removeItem, addToCart, itemId=null, dishQuantity = 0, dish, isCompleteCart, isVendorMenu }) => {\n  const [modalOpen, setModalOpen] = useState(false)\n  const [cartItemId, setCartItemId] = useState(itemId)\n  console.log(dishQuantity)\n  const handleAddtoCart = () => {\n    let itemId = Date.now()\n    setCartItemId(itemId)\n\n    const newDish = {...dish , cartItemId: itemId , quantity: 1 , }\n    const cartObj = {\n      quantity: 1,\n      vendor: dish.vendor,\n      dish: newDish,\n    }\n    addToCart(cartObj)\n    handleCloseModal()\n  }\n\n  const handleIncrement = () => {\n    if (dishQuantity === 0) {\n      handleAddtoCart()\n    }\n    else {\n      increment({\n        cartItemId: dish.cartItemId || cartItemId,\n        quantity: 1,\n        vendor:dish.vendor\n      })\n    }\n  }\n\n  const handleDecrement = () => {\n    if (dishQuantity === 1) {\n      removeItem({\n        cartItemId: dish.cartItemId || cartItemId,\n        vendor:dish.vendor\n      })\n    }\n    else {\n      decrement({\n        cartItemId: dish.cartItemId || cartItemId,\n        vendor:dish.vendor\n      })\n    }\n  }\n  const handleCloseModal = () => {\n\n    setModalOpen(false)\n\n  }\n  const handleOpenModal = () => {\n    setModalOpen(true)\n  }\n\n  return (\n    <>\n      {dish.selectables.length > 0 ?\n        dishQuantity > 0 && isCompleteCart ? (\n          <div>\n            <div className=\"decrement\" onClick={handleDecrement}> <span>-</span> </div>\n            <div className='SingleItemQuantity'> {dishQuantity} </div>\n            <div className=\"increment\" onClick={handleIncrement}> <span>+</span> </div>\n          </div>\n        ) :\n          (<div className=\"option\"\n            onClick={handleOpenModal}\n          >\n            Option\n          </div>)\n\n        : (\n          <div>\n            {dishQuantity > 0 && (\n              <>\n                <div className=\"decrement\" onClick={handleDecrement}> <span>-</span> </div>\n                <div className='SingleItemQuantity'> {dishQuantity} </div>\n              </>\n            )}\n\n            <div className=\"increment\" onClick={handleIncrement}> <span>+</span> </div>\n          </div>\n        )}\n\n      {modalOpen &&\n        <SelectOptionModal\n          handleCloseModal={handleCloseModal}\n          dish={dish}\n        />\n      }\n    </>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  // console.log(ownProps)\n  const singleVendorCart = ownProps.dish.vendor ? state.cartState[ownProps.dish.vendor.id] : false\n\n  console.log(singleVendorCart)\n  if (ownProps.isVendorMenu) {\n\n    return {\n      dishQuantity: singleVendorCart ? _.result(_.find(singleVendorCart.dishes, { id: ownProps.dish.id }), 'quantity') : 0,\n \n      itemId: singleVendorCart ? _.result(_.find(singleVendorCart.dishes, { id: ownProps.dish.id }), 'cartItemId') : null,\n    }\n\n  }\n  else {\n    return {\n      dishQuantity: singleVendorCart ? _.result(_.find(singleVendorCart.dishes, { cartItemId: ownProps.dish.cartItemId }), 'quantity') : 0\n    }\n  }\n}\n\nexport default connect(mapStateToProps, { increment, decrement, removeItem, addToCart })(SingleDishAddButton)\n\n\n\n","import {DECREMENT_ITEM} from '../types'\n\nexport const decrement = (payload) =>{\n  return (dispatch) =>{\n    dispatch({\n      type:DECREMENT_ITEM,\n      payload: payload\n    })\n  }\n}","import {REMOVE_ITEM} from '../types'\n\nexport const removeItem = (payload) =>{\n  return (dispatch) =>{\n    dispatch({\n      type:REMOVE_ITEM,\n      payload: payload\n    })\n  }\n}\n","import React from 'react'\nimport {Link} from 'react-router-dom'\nimport SingleDishAddButton from './SingleDishAddButton'\n\nexport default function MenuSingleDish({dish}) {\n  return (\n  \n    <div className=\"gridContainer\" key={dish.id}>\n          <Link to={`/singleDish/${dish.id}`}>\n            <div className='dishImage'\n              style={{ backgroundImage: `url(${dish.photo})` }}\n            >\n            </div>\n          </Link>\n          <div className='dishDetail'>\n            <div>{dish.name}</div>\n            <div className=\"price\">$ {dish.price}</div>\n            <div className=\"addToCartContainer\">\n              \n              <SingleDishAddButton\n                dish = {dish}\n                isVendorMenu ={true}\n              />\n            </div>\n          </div>\n        </div>\n  )\n}\n","import React from 'react'\nimport { SingleVendorDishes } from '../../datas'\nimport MenuSingleDish from './MenuSingleDish'\n\nconst Menu = () => {\n  console.log(SingleVendorDishes)\n  return SingleVendorDishes.map((data, index) => (\n    <div className='menu' key={index}>\n      <div className='category'> {data[0].category.name}</div>\n      {data.map(dish => (\n        <MenuSingleDish dish={dish} key={dish.id} />\n      )\n      )}\n    </div>\n  )\n  )\n}\n\nexport default Menu","import React, { useState } from 'react'\nimport { Map, Marker, GoogleApiWrapper } from \"google-maps-react\";\n\n\nconst About = ({ mobile, address, city, province, business_hours, longitude, latitude, name, google }) => {\n\n  const today = new Date()\n  const date = today.getDay()\n\n  return (\n\n    <div className=\"about\">\n      <div className=\"bussinesInfo\">Business Info</div>\n      <div className=\"infoDetails\">\n        <div> {mobile}</div>\n        <div> {address} {city} {province}</div>\n        {console.log(business_hours, date)}\n        <div>Operating Hours : (today)\n          {business_hours[date].from === null ?\n            (<span> - closed</span>) :\n            <span> {business_hours[date].from} - {business_hours[date].to}</span>\n          }\n        </div>\n        <div >\n\n          <div style={{ height: '50vh', width: '100%' , position:'relative'}}>\n            <Map\n              className=\"map\"\n              google={google}\n              initialCenter={{\n                lat: latitude,\n                lng: longitude\n              }}\n              zoom={14}\n            >\n              <Marker\n                name=\"Marker\"\n                position={{ lat: latitude, lng: longitude }}\n              >\n              </Marker>\n\n            </Map>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default GoogleApiWrapper({\n  apiKey: process.env.REACT_APP_GOOGLE_MAP_API,\n  version: \"3.38\"\n})(About)","import React from 'react'\n\nexport default function Ratings() {\n  return (\n    <div>\n      \n    </div>\n  )\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"\\\\u8D2D\\\\u7269\\\\u8F66\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"1-\\\\u8D2D\\\\u7269\\\\u8F66-\\\\u7A7A\",\n  transform: \"translate(-19.000000, -628.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"\\\\u8D2D\\\\u7269\\\\u8F66\",\n  transform: \"translate(0.000000, 615.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-10\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-8\",\n  transform: \"translate(19.000000, 13.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-2\",\n  transform: \"translate(1.000000, 1.000000)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M24.9220252,22.7549291 C24.9220252,23.299698 25.2137723,23.8030852 25.6873682,24.0754697 C26.1609641,24.3478541 26.7444583,24.3478541 27.2180542,24.0754697 C27.6916501,23.8030852 27.9833972,23.299698 27.9833972,22.7549291 C27.9833972,21.9127894 27.2980857,21.2301003 26.4527112,21.2301003 C25.6073367,21.2301003 24.9220252,21.9127894 24.9220252,22.7549291 Z\",\n  id: \"Shape\",\n  fill: \"currentColor\",\n  fillRule: \"nonzero\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4.38550239,22.7549291 C4.38550239,23.5970688 5.07081386,24.2797579 5.9161884,24.2797579 C6.76156295,24.2797579 7.44687442,23.5970688 7.44687442,22.7549291 C7.44687442,21.9127894 6.76156295,21.2301003 5.9161884,21.2301003 C5.07081386,21.2301003 4.38550239,21.9127894 4.38550239,22.7549291 Z\",\n  id: \"Shape\",\n  fill: \"currentColor\",\n  fillRule: \"nonzero\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4.18093983,2.42857143 L25.2388014,2.42857143 C25.907066,2.42857143 26.4488014,2.97030688 26.4488014,3.63857143 C26.4488014,3.72967345 26.4385128,3.82048406 26.4181311,3.90927689 L25.0524007,9.85908848 C24.575506,11.9366827 22.7955217,13.4576833 20.6689748,13.6047359 L6.68950373,14.5714286\",\n  id: \"Path-3\",\n  stroke: \"currentColor\",\n  strokeWidth: 1.21,\n  fill: \"currentColor\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0.418093983,-7.10542736e-15 L3.11712729,-6.88338275e-15 C3.72549111,-6.99513737e-15 4.23926198,0.451699086 4.31716556,1.05505435 L6.14460083,15.208354 C6.45621514,17.6217751 8.51129862,19.4285714 10.9447539,19.4285714 L22.9951691,19.4285714\",\n  id: \"Path-2\",\n  stroke: \"currentColor\",\n  strokeWidth: 1.21,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n})))))));\n\nfunction SvgCart(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"29px\",\n    height: \"26px\",\n    viewBox: \"0 0 29 26\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCart);\nexport default __webpack_public_path__ + \"static/media/cart.4c9bee83.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\nimport { connect } from 'react-redux'\nimport { ReactComponent as Cart } from '../../assets/icons/cart.svg'\nimport { Link } from 'react-router-dom'\nimport { Modal } from 'antd-mobile';\nconst alert = Modal.alert;\nconst ShortCart = ({ totalPrice, totalQuantity, vendorId }) => {\n\n  const handleClick = () => {\n    alert('Cart is empty' ,'nothing to checkout', [\n      { text: 'Ok', onPress: () =>console.log('ok') },\n    ])\n  }\n  return (\n    <div className='shortCart'>\n\n      <Link to='/cart'>\n        <div className=\"cartIcon\" >\n          <Cart />\n          <span className='cartAmount'>{totalQuantity}</span>\n        </div>\n      </Link>\n\n\n      <div className=\"checkoutContainer\">\n        <div className=\"cartValue\">${totalPrice} <span>不含配送费</span></div>\n        {totalQuantity > 0 ? (\n          <Link to={`/checkout/${vendorId}`}>\n            <div className=\"checkOutButton\">Check Out</div>\n          </Link>\n        ) :\n          <div className=\"checkOutButton\" onClick={handleClick}>Check Out</div>\n        }\n\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const singleVendorCart = state.cartState[ownProps.vendorId]\n  return {\n    totalQuantity: singleVendorCart ? singleVendorCart.quantity : 0,\n    totalPrice: singleVendorCart ? singleVendorCart.totalPrice : 0,\n  }\n}\n\nexport default connect(mapStateToProps)(ShortCart)\n","import React , {useEffect} from 'react'\nimport BackIcon from '../../assets/icons/back.svg'\nimport SearchIcon from '../../assets/icons/search.svg'\nimport LikeIcon from '../../assets/icons/like.svg'\nimport { Link } from 'react-router-dom'\nimport { Tabs } from 'antd';\nimport Menu from './Menu.component'\nimport About from './About.component'\nimport Ratings from './Ratings.component'\nimport ShortCart from '../cart/shortCart'\nimport {SingleVendorData} from '../../datas'\nimport { connect } from 'react-redux'\nimport {setLastVisitedVendor} from '../../actions/vendor/setLastVisitedVendor'\n\nconst { TabPane } = Tabs;\n\nconst SingleVendor = ({setLastVisitedVendor}) => {\n  useEffect(()=>{\n    setLastVisitedVendor(SingleVendorData.id)\n  },[setLastVisitedVendor])\n\n  return (\n    <div className='singleVendor'>\n      <div className='banner' style={{ backgroundImage: `url(${SingleVendorData.logo})` }}>\n        <div className='topbar'>\n          <Link to=\"/\">\n            <img src={BackIcon} alt='sdf' />\n          </Link>\n          <Link to=\"/\">\n            <img src={SearchIcon} alt='sdf' />\n          </Link>\n          <Link to=\"/\">\n            <img src={LikeIcon} alt='sdf' />\n          </Link>\n        </div>\n      </div>\n      <div className=\"overlay\"></div>\n      <div className=\"mainContainer\">\n        <div className=\"topContainer\">\n          <div className=\"title\">{SingleVendorData.name}</div>\n          <div className=\"rating\">{SingleVendorData.rating}</div>\n          <div className=\"tags\">\n            {SingleVendorData.tags.map((tag, index) => (<span key={index} className=\"tag\">{tag}</span>))}\n          </div>\n\n        </div>\n        <div className=\"divider\"></div>\n        <div className=\"tabs\">\n          <Tabs\n            defaultActiveKey=\"1\"\n          // onChange={callback}\n          >\n              <TabPane tab=\"Menu\" key=\"1\">\n                <Menu />\n              </TabPane>\n              <TabPane tab=\"Ratings\" key=\"2\">\n                <Ratings />\n              </TabPane>\n              <TabPane tab=\"About\" key=\"3\">\n                <About\n                  address={SingleVendorData.address}\n                  city={SingleVendorData.city}\n                  province={SingleVendorData.province}\n                  mobile={SingleVendorData.mobile}\n                  business_hours={SingleVendorData.business_hours}\n                  longitude={SingleVendorData.longitude}\n                  latitude={SingleVendorData.latitude}\n                  name={SingleVendorData.name}\n                />\n              </TabPane>\n          </Tabs>\n        </div>\n      </div>\n      <ShortCart vendorId={SingleVendorData.id}/>\n    </div>\n  )\n}\n\nexport default connect(null, {setLastVisitedVendor})(SingleVendor)\n\n","import {SET_LAST_VISITED_VENDOR} from '../types'\n\n//pass vendor Id to payload\nexport const setLastVisitedVendor = (payload) =>{\n  return (dispatch) =>{\n    dispatch({\n      type:SET_LAST_VISITED_VENDOR,\n      payload: payload\n    })\n  }\n}\n","import React , {useEffect, useState}from 'react'\nimport backDark from '../../assets/icons/back_dark.svg'\nimport { Link } from 'react-router-dom'\nimport SingleDishAddButton from '../vendor/SingleDishAddButton'\nimport ShortCart from '../cart/shortCart'\nimport {MyDishes} from '../../datas'\nimport _ from 'lodash'\nimport {connect} from 'react-redux'\n\nconst SingleDish = ({match : {params:{id:singleDishId = 0}} ,cart } ) => {\n  const [singleDishData , setSingleDishData]= useState({})\n  const [dishVendorId , setDishVendorId] = useState(null)\n  const [cartItemId , setCartItemId] = useState(null)\n  singleDishId = Number(singleDishId)\n  useEffect(() => {\n    const data = MyDishes.find(dish => {\n      return dish.id === Number(singleDishId)\n    })\n    setSingleDishData(data)\n  }, [setSingleDishData, singleDishId])\n\n  useEffect(()=>{\n    if(!_.isEmpty(singleDishData)) {\n      const vendorId = singleDishData.vendor.id\n      setDishVendorId(vendorId)\n      console.log(cart[vendorId])\n      const itemInCart = cart[vendorId] ? cart[vendorId].dishes.find((dish) => {\n        return dish.id = singleDishId\n      }) : null\n      itemInCart && setCartItemId(itemInCart.cartItemId)\n    }\n  },[cart, singleDishData, singleDishId])\n\n  return ( !_.isEmpty(singleDishData) ? \n    <div className='singleDish'>\n      <Link to={`/vendor/${dishVendorId}`}>\n        <div className=\"bannerImage\" style={{ backgroundImage: `url(${singleDishData.photo})` }}>\n          <img src={backDark} alt='sdf' />\n        </div>\n      </Link>\n\n      <div className=\"dishTitle\">\n        {singleDishData.name}\n      </div>\n      <div className=\"divider\"></div>\n      <div className=\"priceContainer\">\n        <div style={{ position: 'relative' }}>\n          <span className='price'>${singleDishData.price}</span>\n          <SingleDishAddButton\n            dish={ {...singleDishData , cartItemId: Number(cartItemId)}}\n            isVendorMenu= {cartItemId ? false : true }\n           >\n          </SingleDishAddButton>\n        </div>\n      </div>\n\n      <div className=\"divider\"></div>\n      <div className=\"productDescription\">\n        <div>Product Description</div>\n        <p>{singleDishData.description}</p>\n      </div>\n      <ShortCart vendorId={dishVendorId} />\n    </div> : null) \n}\n\nconst mapStateToProps = (state) => {\n  return { cart : state.cartState }\n}\n\nexport default connect(mapStateToProps, {}) (SingleDish)","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Symbols\",\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"\\\\u57FA\\\\u7840\\\\u9875\\\\u9762\\\\u5F39\\\\u7A97\\\\u5BFC\\\\u822A\",\n  transform: \"translate(-15 -35)\",\n  fillRule: \"nonzero\",\n  fill: \"currentColor\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-2\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"-\\\\u5173\\\\u95ED\\\\u7BAD\\\\u5934\",\n  transform: \"translate(15 35)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.25792424,8.99348808 L0.161636069,0.897199908 C-0.0389962189,0.689470079 -0.0361269391,0.359273015 0.168084957,0.155061119 C0.372296853,-0.0491507766 0.702493916,-0.0520200564 0.910223746,0.148612231 L9.00651192,8.2449004 L17.1028001,0.148612231 C17.3105299,-0.0520200564 17.640727,-0.0491507766 17.8449389,0.155061119 C18.0491508,0.359273015 18.0520201,0.689470079 17.8513878,0.897199908 L9.7550996,8.99348808 L17.8513878,17.0897763 C18.0520201,17.2975061 18.0491508,17.6277031 17.8449389,17.831915 C17.640727,18.0361269 17.3105299,18.0389962 17.1028001,17.8383639 L9.00651192,9.74207576 L0.910223746,17.8383639 C0.777302054,17.9759878 0.580465125,18.0311821 0.395367366,17.9827328 C0.210269606,17.9342835 0.0657165288,17.7897304 0.0172672065,17.6046326 C-0.0311821159,17.4195349 0.0240121571,17.2226979 0.161636069,17.0897763 L8.25792424,8.99348808 Z\",\n  id: \"Shape\"\n})))));\n\nfunction SvgClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 18,\n    viewBox: \"0 0 18 18\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClose);\nexport default __webpack_public_path__ + \"static/media/close.22e7d869.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\nimport SingleDishAddButton from '../vendor/SingleDishAddButton'\n\nexport default function CompleteCartSingleDish({ dish, selectableText, vendor }) {\n  return (\n    <div className=\"cartSingleDish\" >\n      <img src={dish.photo} alt={dish.name} />\n      <div className=\"dishContent\">\n        <div>{dish.name}</div>\n        <div>{selectableText}\n        </div>\n        <div>${dish.price}</div>\n        <SingleDishAddButton\n          dish={dish}\n          isCompleteCart={true}\n        />\n      </div>\n    </div >\n  )\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nexport default function SingleVendorCartFooter({ totalPrice, vendorId }) {\n  return (\n    <div className='singleVendorCartFooter'>\n      <span className='singleCartFooterPrice'>$ {totalPrice}</span>\n      <Link to={`/checkout/${vendorId}`}>\n        <div className='singleCartFooterCheckOut'>Check Out</div>\n      </Link>\n    </div>\n  )\n}\n","import React from 'react'\nimport CompleteCartSingleDish from './CompleteCartSingleDish'\nimport SingleVendorCartFooter from './SingleVendorCartFooter.component'\nexport default function SingleVendorCart({ singleCart }) {\n\n  const renderSingleDish = () => {\n    return singleCart.dishes.map((dish, index) => {\n      let selectableText = ''\n      dish.selectables.forEach(selectable => {\n        selectableText += selectable.name\n        selectableText += ' - '\n        selectable.option.forEach(op => {\n          selectableText += op.name\n          selectableText += ' '\n        })\n      })\n      return (\n        <CompleteCartSingleDish\n          key={index}\n          selectableText={selectableText}\n          dish={dish}\n          vendor={singleCart.vendor}\n        />\n      )\n    })\n  }\n  return (\n    <>\n      <div className=\"vendorRow\">\n        <img src={singleCart.vendor.logo} alt={singleCart.vendor.name} />\n        <span>{singleCart.vendor.name}</span>\n        <span className=\"dishCategory\"> {singleCart.dishes.length}类商品</span>\n      </div>\n\n      <div className=\"dishInCartContainer\">\n        {renderSingleDish()}\n        <SingleVendorCartFooter \n          totalPrice ={singleCart.totalPrice} \n          vendorId = {singleCart.vendor.id}\n          />\n      </div>\n    </>\n  )\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { withRouter } from \"react-router\";\nimport { compose } from \"redux\";\nimport { clearCart } from '../../actions/cart/clearCart'\nimport { ReactComponent as Close } from '../../assets/icons/close.svg'\nimport { Modal } from 'antd-mobile';\nimport SingleVendorCart from './SingleVendorCart'\nimport _ from 'lodash'\n\nconst alert = Modal.alert;\n\nconst CompleteCart = ({ clearCart, lastVisitedVendorId, carts }) => {\n\n  const dishes = () => {    \n    if(!_.isEmpty(carts) ){\n      for (let vendorId in carts) {\n        return <SingleVendorCart singleCart={carts[vendorId]} />\n      }\n    }\n    else {\n      return 'sdf'\n    }\n    \n  }\n\n  const handleClearCart = () => {\n    alert('清空购物车', 'Are you sure???', [\n      { text: 'Cancel', onPress: () => console.log('cancel') },\n      { text: 'Ok', onPress: () => clearCart() },\n    ])\n  }\n\n  return (\n    <div className=\"completeCart\">\n      <div className=\"completeCartHeader\">\n        <Link to={lastVisitedVendorId ? 'vendor/'+ lastVisitedVendorId : '/' }>\n          <span className=\"closeButton\" ><Close /></span>\n        </Link>\n\n        <div className=\"yourCart\">Your Cart</div>\n        {!_.isEmpty(carts) && (\n          <span className=\"clearCartButton\" onClick={handleClearCart}>clear</span>\n        )}\n      </div>\n      {!_.isEmpty(carts) ?\n        dishes()\n\n        : (\n          <div className=\"cartEmpty\">Your Cart is Empty</div>\n        )}\n\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  carts: state.cartState,\n  lastVisitedVendorId: state.lastVisitedVendorIdState\n})\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, { clearCart })\n)(CompleteCart);\n\n","import {CLEAR_CART} from '../types'\n\nexport const clearCart = (payload) =>{\n  return (dispatch) =>{\n    dispatch({\n      type:CLEAR_CART,\n      payload: payload\n    })\n  }\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"style\", {\n  type: \"text/css\"\n}, \"\\n\\t.st0{fill:#333333;}\\n\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"\\\\u8BA2\\\\u5355\\\\u786E\\\\u8BA4\\\\u9875\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"\\\\u6B21\\\\u65E5\\\\u8FBE-\\\\u5DF2\\\\u586B\\\\u5199\",\n  transform: \"translate(-15.000000, -33.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"\\\\u57FA\\\\u7840\\\\u5BFC\\\\u822A\\\\u680F\",\n  transform: \"translate(0.000000, -1.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"\\\\u8FD4\\\\u56DE\\\\u7BAD\\\\u5934_1_\",\n  transform: \"translate(15.000000, 34.523077)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Shape\",\n  className: \"st0\",\n  d: \"M19.8,6.2c0.2-0.2,0.2-0.5,0-0.7c-0.1-0.1-0.2-0.1-0.4-0.1c-0.1,0-0.3,0.1-0.4,0.2l-9.1,9l9.1,9      c0.2,0.2,0.5,0.2,0.8,0c0.2-0.2,0.2-0.5,0-0.7l-8.3-8.3L19.8,6.2L19.8,6.2z\"\n})))));\n\nfunction SvgBackDark(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"30px\",\n    height: \"30px\",\n    id: \"\\\\u56FE\\\\u5C42_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 30 30\",\n    style: {\n      enableBackground: \"new 0 0 30 30\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBackDark);\nexport default __webpack_public_path__ + \"static/media/back_dark.684e609e.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react'\nimport PlacesAutocomplete, {\n  geocodeByAddress,\n  getLatLng,\n} from 'react-places-autocomplete';\nimport { GoogleApiWrapper } from \"google-maps-react\";\n\nconst UserLocation = ({ setUserAddress, setUserLng, setUserLat }) => {\n\n  const [address, setAddress] = useState('')\n  const handleChange = address => {\n    setAddress(address);\n  };\n\n  const handleSelect = address => {\n    geocodeByAddress(address)\n      .then(results => {\n        setUserLat(results[0].geometry.location.lat())\n        setUserLng(results[0].geometry.location.lng())\n        return getLatLng(results[0])\n      })\n      .then(latLng => {\n        setAddress(address)\n        setUserAddress(address)\n      })\n      .catch(error => console.error('Error', error));\n  };\n\n  return (\n    <div>\n      <PlacesAutocomplete\n        value={address}\n        onChange={handleChange}\n        onSelect={handleSelect}\n      >\n        {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\n\n          <div>\n            <input\n              {...getInputProps({\n                placeholder: 'Destination ...',\n                className: 'location-search-input',\n              })}\n            />\n            <div className=\"autocomplete-dropdown-container\">\n              {loading && <div>Loading...</div>}\n              {suggestions.map(suggestion => {\n                const className = suggestion.active\n                  ? 'suggestion-item--active'\n                  : 'suggestion-item';\n                // inline style for demonstration purpose\n                const style = suggestion.active\n                  ? { backgroundColor: '#fafafa', cursor: 'pointer' }\n                  : { backgroundColor: '#ffffff', cursor: 'pointer' };\n                return (\n                  <div\n                    {...getSuggestionItemProps(suggestion, {\n                      className,\n                      style,\n                    })}\n                  >\n                    <span>{suggestion.description}</span>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        )}\n      </PlacesAutocomplete>\n    </div>\n  )\n}\n\nexport default GoogleApiWrapper({\n  apiKey: process.env.REACT_APP_GOOGLE_MAP_API,\n  libraries: [\"places\"]\n})(UserLocation);","import React from 'react'\n\nexport default function ConfirmBtn({totalPrice, placeOrder}) {\n  return (\n    <div className=\"confirmBtn\">\n      <div className=\"left\">${totalPrice}</div>\n      <div className=\"right\" onClick={placeOrder}> Place Order </div>\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function Agreement() {\n  return (\n    <div>\n      \n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function OrderInfo({ vendorName, dishes }) {\n  return (\n    <>\n      <div className=\"vendorName\">\n        {vendorName}\n      </div>\n      <div>\n        {dishes.map((dish, index) => {\n          let selectableText = ''\n          if (dish.selectables.length > 0) {\n            dish.selectables.forEach(selectable => {\n              selectableText += selectable.name\n              selectableText += ' - '\n              selectable.option.forEach(op => {\n                selectableText += op.name\n                selectableText += ' '\n              })\n            })\n          }\n          return (\n            <div className=\"singleDishInfo\">\n              <img src={dish.photo} alt=\"\" />\n              <span className=\"first\"> {dish.name}</span>\n              <span className=\"second\" >X{dish.quantity}</span>\n              <span className=\"third\">${dish.price * dish.quantity}</span>\n              {selectableText.length > 0 && \n              (<span className=\"fourth\"> {selectableText}</span>)}\n            </div>\n          )\n        })}\n      </div>\n    </>\n\n  )\n}\n","import React from 'react'\n\nexport default function Remark() {\n  return (\n    <div>\n      \n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { GoogleApiWrapper } from \"google-maps-react\";\n\nconst PriceInfo = ({\n  setDeliFee,\n  setTotalTax,\n  setSubTotal,\n  totalPrice,\n  baseDeliveryFee,\n  userLat,\n  userLng,\n  vendorLat,\n  vendorLng,\n  google,\n}) => {\n  \n  const totalBeforeTax = Number(totalPrice) + Number(baseDeliveryFee)\n  const [deliveryFee, setDeliveryFee] = useState(baseDeliveryFee)\n  const [tax, setTax] = useState((totalBeforeTax* 0.05).toFixed(2))\n  const [subtotal, setSubtotal] = useState((totalBeforeTax* 1.05).toFixed(2))\n\n  useEffect(() => {\n    setSubTotal((totalBeforeTax* 1.05).toFixed(2))\n    setSubtotal((totalBeforeTax* 1.05).toFixed(2))\n    setDeliveryFee(baseDeliveryFee)\n    setDeliFee(baseDeliveryFee)\n    setTax((totalBeforeTax* 0.05).toFixed(2))\n    setTotalTax((totalBeforeTax* 0.05).toFixed(2))\n  }, [baseDeliveryFee, setDeliFee, setSubTotal, setTotalTax, totalBeforeTax, totalPrice])\n\n  if (userLat && userLng) {\n    const origin = new google.maps.LatLng(vendorLat, vendorLng);\n    const destination = new google.maps.LatLng(userLat, userLng);\n    console.log(vendorLat, vendorLng)\n    console.log(userLat, userLng)\n    const service = new google.maps.DistanceMatrixService();\n    service.getDistanceMatrix(\n      {\n        origins: [origin],\n        destinations: [destination],\n        travelMode: 'DRIVING',\n        unitSystem: google.maps.UnitSystem.IMPERIAL,\n      }, callback);\n\n    function callback(response, status) {\n      if (status !== 'OK') {\n        console.log(status)\n        return\n      }\n      const distance = response.rows[0].elements[0].distance.value\n      let additionalDeliveryFee = 0\n      if (distance <= 5000) {\n        additionalDeliveryFee = 0\n      }\n      else {\n        additionalDeliveryFee = Math.ceil(distance / 1000 - 5) * 1.5\n      }\n      let total = Math.round((additionalDeliveryFee + Number(baseDeliveryFee)) * 100) / 100\n      let currentTax = ((totalPrice + total) * 0.05).toFixed(2)\n      let currentSubtotal = (Number(totalPrice) + Number(total) + Number(currentTax)).toFixed(2)\n      setTax(currentTax)\n      setTotalTax(currentTax)\n      setDeliveryFee(total)\n      setDeliFee(total)\n      setSubtotal(currentSubtotal)\n      setSubTotal(currentSubtotal)\n    }\n  }\n\n  return (\n    <>\n      <div className=\"priceInfoRow\">\n        <span>Total Order Price</span>\n        <span>${totalPrice}</span>\n      </div>\n      <div className=\"priceInfoRow\">\n        <span>Delivery Fee</span>\n        <span>${deliveryFee}</span>\n      </div>\n      <div className=\"priceInfoRow\">\n        <span>GST</span>\n        <span>${tax}</span>\n      </div>\n\n      <div className=\"priceInfoRow\">\n        <span>Subtotal</span>\n        <span>${subtotal}</span>\n      </div>\n\n    </>\n  )\n}\n\nexport default GoogleApiWrapper({\n  apiKey: process.env.REACT_APP_GOOGLE_MAP_API,\n})(PriceInfo);","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport Location from '../../assets/icons/location.png'\nimport ArrowRight from '../../assets/icons/arrow-right.png'\nimport Telephone from '../../assets/icons/telephone.png'\nimport { Link } from 'react-router-dom'\nimport { ReactComponent as BackDark } from '../../assets/icons/back_dark.svg'\nimport { createOrder } from '../../actions/order/createOrder'\nimport UserLocation from './UserLocation'\nimport { withRouter, Redirect } from \"react-router-dom\";\nimport ConfirmBtn from './ConfirmBtn'\nimport { Modal } from 'antd-mobile';\nimport Agreement from './Agreement'\nimport OrderInfo from './OrderInfo'\nimport Remark from './Remark'\nimport PriceInfo from './PriceInfo'\nconst alert = Modal.alert;\n\nconst Checkout = props => {\n  \n  const { cart, createOrder, history } = props\n  const vendorId = props.match.params.vendorId\n  const [isDelivery, setIsDelivery] = useState({\n    flag: true,\n    style: {\n      left: {\n        borderRadius: '4vw',\n        color: 'black',\n        fontWeight: '600',\n        background: 'white'\n      },\n      right: {\n\n      }\n    }\n  })\n  const [userLocation, setUserLocation] = useState('')\n  const [userLat, setUserLat] = useState('')\n  const [userLng, setUserLng] = useState('')\n  const [telephone, setTelephone] = useState('')\n  const [deliFee, setDeliFee] = useState(0)\n  const [totalTax, setTotalTax] = useState(0)\n  const [subTotal, setSubTotal] = useState(0)\n\n  if (!cart) {\n    return <Redirect to='/'></Redirect>\n  }\n\n  const placeOrder = () => {\n    if (telephone === '') {\n      alert('Please fill your phone number', '', [\n        { text: 'Ok', onPress: () => console.log('ok') },\n      ])\n      return\n    }\n    if (isDelivery.flag && userLocation === '') {\n      alert('Please fill destination', '', [\n        { text: 'Ok', onPress: () => console.log('ok') },\n      ])\n      return\n    }\n    const newCart = { ...cart }\n    if (newCart.vendor) delete newCart.vendor\n    if(newCart.totalPrice) delete newCart.totalPrice\n    createOrder({\n      ...newCart,\n      isDelivery: isDelivery.flag,\n      vendorId,\n      //status in progress\n      status: 1,\n      arrivalTime: 'ASAP',\n      paymentMethod: 'wechat',\n      userId: 1232,\n      history,\n      receiverInfo: {\n        address: userLocation,\n        name: 'Jason Li',\n        telephone: telephone\n      },\n      priceInfo : {\n        orderTotal:cart.totalPrice,\n        deliveryFee: deliFee,\n        Tax:totalTax,\n        subtotol:subTotal\n      }\n    })\n  }\n \n\n  return (\n    <div className=\"checkout\">\n      <div className=\"header\">\n        <span>\n          <Link to='/cart'>\n            <BackDark />\n          </Link>\n        </span>\n          Comfirm Order\n        </div>\n      <div className=\"segment\">\n        <div className=\"segmentTag\">\n          <div className=\"segmentItem\" style={isDelivery.flag ? isDelivery.style.left : isDelivery.style.right} onClick={() => setIsDelivery({ ...isDelivery, flag: true })}>Delivery</div>\n          <div className=\"segmentItem\" style={isDelivery.flag ? isDelivery.style.right : isDelivery.style.left} onClick={() => setIsDelivery({ ...isDelivery, flag: false })} >Pick up</div>\n        </div>\n        {/* <SegmentedControl values={['Delivery', 'Pick up']} onChange={methodOnChange} onValueChange={methodOnValueChange} /> */}\n      </div>\n      <div className=\"googleMap\">\n        {/* this is a map */}\n      </div>\n      <div className=\"deliveryInfo infoContainer\">\n        <div className=\"location\">\n          <img src={Location} alt=\"\" className=\"locationImg\" />\n          {isDelivery.flag ? (\n            <UserLocation\n              setUserAddress={(addr) => setUserLocation(addr)}\n              setUserLng = {setUserLng}\n              setUserLat = {setUserLat}\n            />) : (\n              <div>\n                <div>Restaurants location:</div>\n                <div>{cart && cart.vendor.address}</div>\n              </div>\n            )\n          }\n        </div>\n        <div className=\"contactInfo\">\n          <img src={Telephone} alt=\"\" className=\"telephone\" />\n          <input maxLength='10' type=\"text\" name=\"telephone\" placeholder='Your Phone Number ...' onChange={(e) => setTelephone(e.target.value)} />\n        </div>\n        <div className=\"deliveryTime\">\n          <span className=\"left\">Arrival Time</span>\n          <span className=\"right\">Choose Arrival time<img src={ArrowRight} alt=\"\" className=\"arrowImg\" /></span>\n        </div>\n        <div className=\"paymentMethod\">\n          <span className=\"left\">Payment Method</span>\n          <span className=\"right\">Choose Payment Method<img src={ArrowRight} alt=\"\" className=\"arrowImg\" /> </span>\n        </div>\n      </div>\n      <div className=\"infoContainer\">\n\n        <OrderInfo\n          vendorName={cart.vendor.name}\n          dishes={cart.dishes}\n        />\n      </div>\n      <div className=\"infoContainer\">\n        <PriceInfo\n          totalPrice={cart.totalPrice}\n          baseDeliveryFee = {isDelivery.flag ? cart.vendor.delivery_fee : 0 }\n          vendorLng={cart.vendor.longitude}\n          vendorLat={cart.vendor.latitude}\n          userLng={userLng}\n          userLat={userLat}\n          setDeliFee={setDeliFee}\n          setTotalTax={setTotalTax}\n          setSubTotal={setSubTotal}\n        />\n      </div>\n      <div className=\"infoContainer\"> <Remark /></div>\n      <div className=\"infoContainer\"> <Agreement /></div>\n\n      <ConfirmBtn\n        totalPrice={subTotal}\n        placeOrder={placeOrder}\n      />\n    </div>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    cart: state.cartState[ownProps.match.params.vendorId]\n  }\n}\n\nexport default connect(mapStateToProps, { createOrder })(withRouter(Checkout))","import { CREATE_ORDER, CLEAR_CART_BY_VENDOR_ID } from '../types'\nimport { CREATE_ORDER_ERROR } from '../types'\n\n//pass vendor Id to payload\nexport const createOrder = (payload) => {\n  return (dispatch, getState, { getFirebase, getFirestore }) => {\n    const firestore = getFirestore()\n    const history = payload.history;\n    delete payload.history\n    firestore.collection('orders').add({\n      ...payload,\n      customerId: '123',\n      createdAt: new Date()\n    }).then(() => {\n      dispatch({\n        type: CREATE_ORDER,\n        payload: payload\n      })\n      dispatch({\n        type: CLEAR_CART_BY_VENDOR_ID,\n        payload: { vendorId: payload.vendorId }\n      })\n      history.push('/')\n    }).catch(err => {\n      dispatch({\n        type: CREATE_ORDER_ERROR,\n        payload: err\n      })\n    })\n\n  }\n}\n\n","import React from 'react';\nimport { Switch, Route, HashRouter as Router } from 'react-router-dom'\nimport Homepage from './components/homepage/Homepage'\nimport Default from './components/Default'\nimport Vendor from './components/vendor/SingleVendor'\nimport SingleDish from './components/dish/SingleDish'\nimport Cart from './components/cart/CompleteCart'\nimport Checkout from './components/checkout/Checkout'\nimport { createBrowserHistory } from \"history\";\nimport 'antd/dist/antd.css'\nimport 'antd-mobile/dist/antd-mobile.css';\nconst history = createBrowserHistory();\n\nexport default App => {\n  return (\n\n    <Router history={history}>\n      <div>\n        <Switch>\n          <Route exact path=\"/\" component={Homepage} />\n          <Route path=\"/vendor/:id\" component={Vendor} />\n          <Route path=\"/singleDish/:id\" component={SingleDish} />\n          <Route path=\"/cart\" component={Cart} />\n          <Route path=\"/checkout/:vendorId\" component={Checkout} />\n          <Route component={Default} />\n        </Switch>\n      </div>\n    </Router>\n  )\n}\n","import {\n  ADD_TO_CART,\n  CLEAR_CART,\n  DECREMENT_ITEM,\n  INCREMENT_ITEM,\n  REMOVE_ITEM,\n  CLEAR_CART_BY_VENDOR_ID\n} from '../actions/types'\n\nconst initialState = {\n  // vendor:dish.vendor,\n  // quantity: 1,\n  // dish,\n  // cartItemId: itemId\n}\n\n/// action = {payload , type}\nexport default (state = initialState, action) => {\n  let selectedDish = {}\n  let dishes = {}\n  let vendorId\n  const {payload} = action \n  switch (action.type) {\n    case ADD_TO_CART:\n      vendorId = payload.vendor.id\n      dishes = state[vendorId] ? state[vendorId].dishes : []\n      console.log(payload.dish)\n      return {\n        ...state,\n        [vendorId]: {\n          ...state[vendorId],\n          // cart total price from a single vendor\n          totalPrice: payload.dish.price * payload.quantity + (state[vendorId] ? state[vendorId].totalPrice : 0),\n          // total items ordered from a single vendor\n          quantity: state[vendorId] ? state[vendorId].quantity + payload.quantity : payload.quantity,\n          //vendor Info\n          vendor: state[vendorId] ? state[vendorId].vendor : payload.vendor,\n          // dishes details ordered from a single vendor\n          dishes: [\n            ...dishes,\n            payload.dish\n          ]\n        }\n\n      }\n    case CLEAR_CART:\n      return initialState\n    case REMOVE_ITEM:\n      vendorId = payload.vendor.id\n      if (state[vendorId].dishes.length === 1) {\n        let newState = { ...state }\n        delete newState[vendorId]\n        return newState\n      }\n      dishes = state[vendorId].dishes.filter((dish) => dish.cartItemId !== payload.cartItemId)\n      selectedDish = state[vendorId].dishes.find((dish) => dish.cartItemId === payload.cartItemId)\n      return {\n        ...state,\n        [vendorId]: {\n          ...state[vendorId],\n          totalPrice: state[vendorId].totalPrice - selectedDish.price,\n          dishes: dishes,\n          quantity: state[vendorId].quantity - 1,\n        }\n      }\n    case INCREMENT_ITEM:\n      vendorId = payload.vendor.id\n      selectedDish = state[vendorId].dishes.find((dish) => dish.cartItemId === payload.cartItemId)\n      console.log(state[vendorId].dishes)\n\n      dishes = state[vendorId].dishes.map(dish => {\n        console.log(dish);\n        if (dish.cartItemId === payload.cartItemId) {\n          return { ...dish, quantity: dish.quantity + payload.quantity }\n        }\n        else {\n          return dish\n        }\n      })\n      return {\n        ...state,\n        [vendorId]: {\n          ...state[vendorId],\n          totalPrice: state[vendorId].totalPrice + selectedDish.price,\n          quantity: state[vendorId].quantity + 1,\n          dishes: dishes\n        }\n      }\n    case DECREMENT_ITEM:\n      vendorId = payload.vendor.id\n      console.log(payload.cartItemId)\n      selectedDish = state[vendorId].dishes.find((dish) => dish.cartItemId === payload.cartItemId)\n      dishes = state[vendorId].dishes.map(dish => {\n        if (dish.cartItemId === payload.cartItemId) {\n          console.log({ ...dish, quantity: dish.quantity - 1 })\n          return { ...dish, quantity: dish.quantity - 1 }\n        }\n        else {\n          return dish\n        }\n      })\n      return {\n        ...state,\n        [vendorId]: {\n          ...state[vendorId],\n          totalPrice: state[vendorId].totalPrice - selectedDish.price,\n          quantity: state[vendorId].quantity - 1,\n          dishes: dishes\n        }\n      }\n    case CLEAR_CART_BY_VENDOR_ID:\n      vendorId = payload.vendorId\n      const newState = {...state}\n      delete newState[vendorId]\n      return {\n        ...newState,\n      }\n\n    default:\n      return state\n  }\n}","const initialState = { }\n\nconst auth = (state= initialState, action) =>{\n  return state\n}\n\nexport default auth","const initialState = { }\n\nconst vendor = (state= initialState, action) =>{\n  return state\n}\n\nexport default vendor","import {combineReducers} from 'redux'\nimport cartReducer from './cart'\nimport authReducer from './auth'\nimport vendorReducer from './vendor'\nimport lastVisitedVendorIdReducer from './lastVisitedVendorId'\nimport {firestoreReducer} from 'redux-firestore'\nexport default combineReducers({\n  cartState: cartReducer,\n  lastVisitedVendorIdState: lastVisitedVendorIdReducer,\n  auth:authReducer,\n  vendor: vendorReducer\n})","import { SET_LAST_VISITED_VENDOR } from '../actions/types'\n\nexport default (state = null, action) => {\n  switch (action.type) {\n    case SET_LAST_VISITED_VENDOR:\n      return action.payload\n    default: return state\n  }\n}","import firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport 'firebase/auth'\n\nvar config = {\n  apiKey: \"AIzaSyDXX29oCwjTqMUKB6Hzh8NioLH-pp24UYo\",\n  authDomain: \"foodyjoe-3a05d.firebaseapp.com\",\n  databaseURL: \"https://foodyjoe-3a05d.firebaseio.com\",\n  projectId: \"foodyjoe-3a05d\",\n  storageBucket: \"foodyjoe-3a05d.appspot.com\",\n  messagingSenderId: \"674788384636\",\n  appId: \"1:674788384636:web:1091a4a9818cf5bdd50ef9\",\n  measurementId: \"G-MDK5NC3RYL\"\n};\n// Initialize Firebase\nfirebase.initializeApp(config);\n// firebase.firestore().settings({timestampsInSnapshots :true})\n\nexport default firebase","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport './index.scss'\nimport App from \"./App\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport rootReducer from \"./reducers\";\nimport { Provider } from \"react-redux\";\nimport thunk from \"redux-thunk\";\nimport {\n    reduxFirestore,\n    getFirestore,\n    createFirestoreInstance\n} from \"redux-firestore\";\nimport { ReactReduxFirebaseProvider, getFirebase } from \"react-redux-firebase\";\nimport fbConfig from \"./config/fbConfig\";\nimport firebase from \"firebase/app\";\nimport { composeWithDevTools } from 'redux-devtools-extension'\n\nconst store = createStore(\n    rootReducer,\n    compose(\n        composeWithDevTools(\n            applyMiddleware(thunk.withExtraArgument({ getFirestore, getFirebase })),\n            reduxFirestore(fbConfig)\n        )\n    )\n);\n\n\nconst rrfProps = {\n    firebase,\n    config: fbConfig,\n    dispatch: store.dispatch,\n    createFirestoreInstance\n};\n\n\nReactDOM.render(\n    <Provider store={store}>\n        <ReactReduxFirebaseProvider {...rrfProps}>\n            <App />\n        </ReactReduxFirebaseProvider>\n    </Provider>,\n    document.getElementById(\"root\")\n);\n\n\n"],"sourceRoot":""}